if(require(rio) == F) install.packages('rio'); require(rio)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
if(require(rio) == F) install.packages('rio'); require(rio)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
if(require(rio) == F) install.packages('rio'); require(rio)
if(require(ggplot2) == F) install.packages('ggplot2'); require(ggplot2)
if(require(car) == F) install.packages('car'); require(car)
if(require(MASS) == F) install.packages('MASS'); require(MASS)
if(require(dotwhisker) == F) install.packages('dotwhisker'); require(dotwhisker)
if(require(broom) == F) install.packages('broom'); require(broom)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
if(require(rio) == F) install.packages('rio'); require(rio)
if(require(ggplot2) == F) install.packages('ggplot2'); require(ggplot2)
if(require(car) == F) install.packages('car'); require(car)
if(require(MASS) == F) install.packages('MASS'); require(MASS)
if(require(dotwhisker) == F) install.packages('dotwhisker'); require(dotwhisker)
if(require(broom) == F) install.packages('broom'); require(broom)
if(require(rio) == F) install.packages('rio'); require(rio)
if(require(ggplot2) == F) install.packages('ggplot2'); require(ggplot2)
if(require(car) == F) install.packages('car'); require(car)
if(require(MASS) == F) install.packages('MASS'); require(MASS)
if(require(dotwhisker) == F) install.packages('dotwhisker'); require(dotwhisker)
if(require(broom) == F) install.packages('broom'); require(broom)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
if(require(rio) == F) install.packages('rio'); require(rio)
if(require(ggplot2) == F) install.packages('ggplot2'); require(ggplot2)
if(require(car) == F) install.packages('car'); require(car)
if(require(MASS) == F) install.packages('MASS'); require(MASS)
if(require(dotwhisker) == F) install.packages('dotwhisker'); require(dotwhisker)
if(require(broom) == F) install.packages('broom'); require(broom)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
library(rio)
library(ggplot2)
library(car)
library(MASS)
library(dotwhisker)
library(broom)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
library(rio)
library(ggplot2)
library(car)
library(MASS)
library(dotwhisker)
library(broom)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
qplot(log(PIB), data = competicao, geom = "histogram")
qplot(log(PIB), PNS, data = competicao)
par(mfrow=c(2,2))
qplot(log(PIB), data = competicao, geom = "histogram")
qplot(IDH, PNS, data = competicao)
summary(competicao)
summary(competicao)
summary(competicao)
# Descritivas
summary(competicao)
qplot(IDH, PNS, data = competicao)
competicao$IDEOL <- as.factor(competicao$IDEOL)
head(competicao)
library(ggplot2)
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
competicao$IDEOL <- as.factor(competicao$IDEOL)
head(competicao)
library(ggplot2)
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
# Violin de IDEOL x PNS
## Converter variável X para factor
competicao$IDEOL <- as.factor(competicao$IDEOL)
head(competicao)
library(ggplot2)
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, color=factor(IDEOL, labels="Centro", "Esquerda", "Direita"), fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, color=factor(IDEOL, labels="Centro", "Esquerda", "Direita"), fill=IDEOL)) +
geom_violin(trim=FALSE) + labs(color=IDEOL)
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL) +
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE) + labs(color=IDEOL)
violin2
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2
#Adicionar média
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL, color=factor(IDEOL, labels = c("Esquerda", "Centro", "Direita")))) +
geom_violin(trim=FALSE)
violin2
#Adicionar média
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
competicao$IDEOL <- as.factor(competicao$IDEOL)
library(ggplot2)
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
competicao$IDEOL <- as.factor(competicao$IDEOL)
library(ggplot2)
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
# Violin de IDEOL x PNS
## Converter variável X para factor
competicao$IDEOL <- as.factor(competicao$IDEOL)
library(ggplot2)
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2
#Adicionar média
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
violin3 <-ggplot(competicao, aes(x=IDEOL, y=CANDLEG, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin3
violin3 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
violin3 <-ggplot(competicao, aes(x=IDEOL, y=CANDLEG, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin3
violin3 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
violin3 <-ggplot(competicao, aes(x=IDEOL, y=CANDLEG, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin3 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
violin3 <-ggplot(competicao, aes(x=IDEOL, y=CANDLEG, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin3 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
modelo1 <- lm(PNS ~ CANDLEG + CANDEXEC + IDH + IDEOL, data=competicao)
modelo2 <- lm(PNS ~ CANDLEG + CANDEXEC + log(PIB) + IDEOL, data=competicao)
modelo3 <- lm(PNS ~ CANDLEG + CANDEXEC + dymmyesq*IDH, data=competicao)
modelo1 <- lm(PNS ~ CANDLEG + CANDEXEC + IDH + IDEOL, data=competicao)
modelo2 <- lm(PNS ~ CANDLEG + CANDEXEC + log(PIB) + IDEOL, data=competicao)
modelo3 <- lm(PNS ~ CANDLEG + CANDEXEC + dummyesq*IDH, data=competicao)
modelo4 <- lm(PNS ~ CANDLEG + CANDEXEC + dummyesq*log(PIB), data=competicao)
mean(modelo1$residuals)
mean(modelo2$residuals)
mean(modelo3$residuals)
mean(modelo4$residuals)
par(mfrow=c(2,2))
plot(modelo1)
plot(modelo1)
plot(modelo1)
plot(modelo1)
require(MASS)
trans_var1 <- boxcox(modelo1, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var2 <- boxcox(modelo2, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var3 <- boxcox(modelo3, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var4 <- boxcox(modelo4, lam=seq(-1, 1, 1/10), plotit = TRUE)
par(mfrow=c(2,2))
trans_var1
trans_var2
trans_var3
trans_var4
require(MASS)
trans_var1 <- boxcox(modelo1, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var2 <- boxcox(modelo2, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var3 <- boxcox(modelo3, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var4 <- boxcox(modelo4, lam=seq(-1, 1, 1/10), plotit = TRUE)
par(mfrow=c(2,2))
trans_var1
trans_var2
trans_var3
trans_var4
PNSnovo <- (competicao$PNS^(0.98)-1)/0.98
#Rodando novos modelos com a VD transformada
modelo1 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + IDH + IDEOL, data=competicao)
modelo2 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + log(PIB) + IDEOL, data=competicao)
modelo3 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + dummyesq*IDH, data=competicao)
modelo4 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + dummyesq*log(PIB), data=competicao)
plot(modelo3)
modelo1 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + IDEOL + IDH, data = competicao)
# Regressões
modelo1 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + IDEOL + IDH, data = competicao)
modelo2 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + IDEOL + log(PIB), data = competicao)
modelo3 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + IDH*dummyesq, data = competicao)
modelo4 <- lm(PNSnovo ~ CANDLEG + CANDEXEC + log(PIB)*dummyesq, data = competicao)
# Coeficientes
summary(modelo1)
dwplot(modelo2, vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2))
summary(modelo2)
summary(modelo3)
dwplot(modelo3, vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2))
summary(modelo4)
dwplot(modelo4, vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2))
# Carregando pacotes
if(require(rio) == F) install.packages('rio'); require(rio)
if(require(ggplot2) == F) install.packages('ggplot2'); require(ggplot2)
# Carregando pacotes
if(require(rio) == F) install.packages('rio'); require(rio)
if(require(ggplot2) == F) install.packages('ggplot2'); require(ggplot2)
if(require(car) == F) install.packages('car'); require(car)
if(require(MASS) == F) install.packages('MASS'); require(MASS)
if(require(dotwhisker) == F) install.packages('dotwhisker'); require(dotwhisker)
if(require(broom) == F) install.packages('broom'); require(broom)
# Descritivas
summary(competicao)
# Plot de log(PIB) e IDH x PNS
qplot(log(PIB), PNS, data = competicao)
qplot(IDH, PNS, data = competicao)
# Distribuição do PIB
qplot(PIB, data = competicao, geom = "histogram")
# Distribuição do PIB após tansformação logarítmica
qplot(log(PIB), data = competicao, geom = "histogram")
# Violin de IDEOL x PNS
## Converter variável X para factor
competicao$IDEOL <- as.factor(competicao$IDEOL)
library(ggplot2)
# Criar histograma de violino com cores
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2
#Adicionar média
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
# Violin de CANDLEG X IDEOL
violin3 <-ggplot(competicao, aes(x=IDEOL, y=CANDLEG, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin3
# Adicionar média
violin3 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
# Pressuposto 2: a média dos resíduos é 0
mean(modelo1$residuals)
mean(modelo2$residuals)
mean(modelo3$residuals)
mean(modelo4$residuals)
# Pressuposto 3: homoscedasticidade dos resíduos ou variância igual
par(mfrow=c(2,2))
## necessário rodar o modelo depois
plot(modelo1)
plot(modelo1)
plot(modelo1)
plot(modelo1)
plot(modelo2)
plot(modelo2)
plot(modelo2)
plot(modelo2)
plot(modelo3)
plot(modelo4)
## transformação da variável
require(MASS)
trans_var1 <- boxcox(modelo1, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var2 <- boxcox(modelo2, lam=seq(-1, 1, 1/10), plotit = TRUE)
trans_var3 <- boxcox(modelo3, lam=seq(-1, 1, 1/10), plotit = TRUE)
## transformação da variável
require(MASS)
trans_var1 <- boxcox(modelo1, lam=seq(-1, 1, 1/10), plotit = TRUE)
library(rio)
library(ggplot2)
library(car)
library(MASS)
library(dotwhisker)
library(broom)
competicao <- import(file = "competicao.dta")
library(ggplot2)
qplot(PIB, data = competicao, geom = "histogram")
qplot(log(PIB), data = competicao, geom = "histogram")
qplot(log(PIB), PNS, data = competicao)
qplot(IDH, PNS, data = competicao)
competicao$IDEOL <- as.factor(competicao$IDEOL)
library(ggplot2)
violin2<-ggplot(competicao, aes(x=IDEOL, y=PNS, fill=IDEOL)) +
geom_violin(trim=FALSE)
violin2 + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
